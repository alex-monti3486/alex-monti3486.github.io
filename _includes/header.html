<header class="site-header">
  <div class="wrapper">
    <!-- Titre du site / Accueil -->
    <a class="site-title" rel="author" id="site-title" href="/">Accueil</a>

    <!-- Menu -->
    <nav class="site-nav">
      <a class="page-link" id="link-home" href="/">Accueil</a>
      <a class="page-link" id="link-projects" href="/projets/">Projets</a>
      <a class="page-link" id="link-cv" href="/cv/">CV</a>

      <!-- Bouton de langue -->
      <button id="lang-toggle" style="margin-left:1rem; background:none; border:none; cursor:pointer; font-weight:bold;">
        ðŸ‡¬ðŸ‡§ EN
      </button>
    </nav>
  </div>
</header>

<link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">

<script>
  const langToggle = document.getElementById('lang-toggle');

  // DÃ©tecte si on est sur une page anglaise
  const isEn = window.location.pathname.startsWith('/en');

  function updateHeader() {
    if(isEn) {
      document.getElementById('site-title').textContent = 'Home';
      document.getElementById('link-home').textContent = 'Home';
      document.getElementById('link-projects').textContent = 'Projects';
      document.getElementById('link-cv').textContent = 'Resume';
      langToggle.textContent = 'ðŸ‡«ðŸ‡· FR';
    } else {
      document.getElementById('site-title').textContent = 'Accueil';
      document.getElementById('link-home').textContent = 'Accueil';
      document.getElementById('link-projects').textContent = 'Projets';
      document.getElementById('link-cv').textContent = 'CV';
      langToggle.textContent = 'ðŸ‡¬ðŸ‡§ EN';
    }
  }

  updateHeader();

  // Redirection vers l'autre langue
  langToggle.addEventListener('click', () => {
    let path = window.location.pathname;
    if(isEn) {
      path = path.replace(/^\/en/, ''); // EN â†’ FR
    } else {
      path = '/en' + path; // FR â†’ EN
    }
    window.location.href = path;
  });
</script>
